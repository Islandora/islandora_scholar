<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "/schema/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:html="http://www.w3.org/1999/xhtml"><head><title>EXSLT - dyn:closure</title><link rel="stylesheet" href="base.css"/></head><body><h1 id="#title"><a href="http://www.exslt.org/">EXSLT</a> - <a href="http://www.exslt.org/dyn">dyn</a>:<a href="http://www.exslt.org/dyn/functions/closure">closure</a></h1><table><tr><td id="menu"><p class="level1"><a href="dyn.closure.html">Implementer Page</a></p><p class="level1"><a href="../../../howto.html">How To</a></p><p class="level1"><a href="../../../download.html">Downloads</a></p><p class="level1">Modules</p><p class="level2"><a href="../../../date/index.html">Dates and Times</a></p><p class="level2"><a href="../../../dyn/index.html">Dynamic</a></p><p class="level3"><a href="../../functions/closure/index.html">dyn:closure()</a></p><p class="level3"><a href="../../functions/evaluate/index.html">dyn:evaluate()</a></p><p class="level3"><a href="../../functions/map/index.html">dyn:map()</a></p><p class="level3"><a href="../../functions/max/index.html">dyn:max()</a></p><p class="level3"><a href="../../functions/min/index.html">dyn:min()</a></p><p class="level3"><a href="../../functions/sum/index.html">dyn:sum()</a></p><p class="level2"><a href="../../../exsl/index.html">Common</a></p><p class="level2"><a href="../../../func/index.html">Functions</a></p><p class="level2"><a href="../../../math/index.html">Math</a></p><p class="level2"><a href="../../../random/index.html">Random</a></p><p class="level2"><a href="../../../regexp/index.html">Regular Expressions</a></p><p class="level2"><a href="../../../set/index.html">Sets</a></p><p class="level2"><a href="../../../str/index.html">Strings</a></p><p class="level1"><a href="../../../submissions/">Submissions</a></p><p class="level1"><a href="../../../list">Mailing List</a></p><p class="level1"><a href="../../../contact.html">Contact</a></p></td><td id="content"><p><b>Implementer Page: </b><a href="dyn.closure.html">dyn.closure.html</a><br/><b>Function Package: </b><a href="dyn.closure.zip">dyn.closure.zip</a></p><h4>Function Syntax</h4><pre><var>node-set</var> <b>dyn:closure</b>(<var>node-set</var>, <var>string</var>)</pre><div><p>
        The <code>dyn:closure</code> function creates a node set resulting from transitive closure of evaluating the expression passed as the second argument on each of the nodes passed as the first argument, then on the node set resulting from that and so on until no more nodes are found. For example:
      </p><pre>
dyn:closure(., '*')
</pre><p>
        returns all the descendant elements of the node (its element children, their children, their children's children and so on).
      </p><p>
        The expression is thus evaluated several times, each with a different node set acting as the context of the expression. The first time the expression is evaluated, the context node set is the first argument passed to the <code>dyn:closure</code> function. In other words, the node set for each node is calculated by evaluating the XPath expression with all context information being the same as that for the call to the <code>dyn:closure</code> function itself, except for the following:
      </p><ul><li>the context node is the node whose value is being calculated</li><li>the context position is the position of the node within the node set passed as the first argument to the <code>dyn:closure</code> function, arranged in document order</li><li>the context size is the number of nodes passed as the first argument to the <code>dyn:closure</code> function</li><li>the current node is the node whose value is being calculated</li></ul><p>
        The result for a particular iteration is the union of the node sets resulting from evaluting the expression for each of the nodes in the source node set for that iteration. This result is then used as the source node set for the next iteration, and so on. The result of the function as a whole is the union of the node sets generated by each iteration.
      </p><p>
        If the expression string passed as the second argument is an invalid XPath expression (including an empty string) or an expression that does not return a node set, this function returns an empty node set.
      </p></div><h2>Implementations</h2><p>There are currently no XSLT processors that we know of that support <code>dyn:closure</code> natively.</p><p>There are currently no third-party implementations of <code>dyn:closure</code>.</p></td></tr></table><div id="colophon"><p><a href="http://www.exslt.org/dyn/functions/closure/index.html">http://www.exslt.org/dyn/functions/closure/index.html</a> last modified 2001-11-25</p></div></body></html>